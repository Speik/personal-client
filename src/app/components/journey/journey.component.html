<div
  id="journey"
  class="relative overflow-hidden min-h-screen max-w-screen p-8 m-0 bg-default"
>

  <app-page-title
    label="My Journey"
    tooltip="Currently I have {{getTotalJourneyDuration()}} of working experience"
    icon="code"
    reference="journey"
  ></app-page-title>

  <app-decoration-circle
    [size]="'medium'"
    [xPos]="'left'"
    [yPos]="'top'"
  ></app-decoration-circle>

  <app-decoration-circle
    [size]="'small'"
    [xPos]="'right'"
    [yPos]="'top'"
  ></app-decoration-circle>

  <app-decoration-grid
    [xPos]="'right'"
    [yPos]="'bottom'"
  >
  </app-decoration-grid>

  <div class="mt-8 w-10 mx-auto">
    <p-timeline [value]="journeyService.journey" align="alternate" styleClass="journey-timeline">
      
      <ng-template pTemplate="marker">
        <div
          class="flex justify-content-center align-items-center w-1rem h-1rem p-4 text-green-400"
        >
          <i class="pi pi-clock text-2xl"></i>
        </div>
      </ng-template>

      <ng-template pTemplate="opposite" let-journey>
        <div
          class="text-300 line-height-1 font-title text-xl"
          [ngStyle]="{ paddingTop: '.85rem' }"
        >
          {{getJourneyDuration(journey)}}
        </div>
      </ng-template>

      <ng-template pTemplate="content" let-journey>
        <div class="pb-8">
          <div appMouseParallax [parallaxIntensivity]="8">
            <div
              class="font-default shadow-7 border-bottom-3 border-green-400 bg-card p-4 select-none"
            >
              <h2 class="font-title font-bold text-3xl text-green-400 p-0">
                {{ journey.employerName }}
              </h2>
              <div class="text-xl text-300">
                {{ journey.jobTitle }}
              </div>
              <div class="text-xl text-green-400 pt-4">
                {{ journey.employedAt | date: 'MMM y' }} -
                {{ journey.leaveAt | date: 'MMM y' }}
              </div>
              <p class="pb-0 text-xl text-white">
                {{journey.shortDescription}}
              </p>
              <div class="pt-4">
                <p-button
                  styleClass="p-button-success p-button-outlined pulse details-button"
                  icon="pi pi-eye"
                  label="Show Details"
                  (click)="handleLearnMoreClick($event, journey)"
                >
                </p-button>
              </div>
            </div>
          </div>
        </div>
      </ng-template>

    </p-timeline>
  </div>

  <p-dialog
    header="Header"
    styleClass="fullscreen-dialog"
    [(visible)]="journeyModalDetails.isVisible"
    [modal]="true"
    [draggable]="false"
    [resizable]="false"
  >

    <ng-template pTemplate="header" class="relative">
      <h2 class="relative pl-4 border-green-400 border-left-3" [ngStyle]="{ zIndex: 2205 }">
        <div class="text-5xl text-green-400 font-bold font-title mr-2">
          {{journeyModalDetails.data?.jobTitle}}
        </div>
        <div class="text-2xl text-400 font-bold font-title">
          {{journeyModalDetails.data?.employerName}}
        </div>
      </h2>

      <app-decoration-grid
        [xPos]="'left'"
        [yPos]="'top'"
      >
      </app-decoration-grid>

      <app-decoration-circle
        [size]="'medium'"
        [xPos]="'right'"
        [yPos]="'top'"
      ></app-decoration-circle>
    </ng-template>

    <div class="grid relative" [ngStyle]="{ zIndex: 2205 }">
      <div class="col-6">
        <p
          class="text-xl text-white font-default mb-5 pl-4 border-green-400 border-left-3"
          *ngFor="let descriptionSegment of getDescriptionSegments(journeyModalDetails.data?.description)"
        >
          {{descriptionSegment}}
        </p>
      </div>
      <div class="col-2"></div>
      <div class="col-4">

        <div class="text-white text-2xl flex justify-content-start align-items-center">
          <div class="flex justify-content-start align-items-center">
            <div class="text-green-400 font-title">
              <div>From</div>
              <div>To</div>
              <div class="pt-3">Total</div>
            </div>
            <div class="pl-3">
              <div>
                {{journeyModalDetails.data?.employedAt | date: 'MMM, y'}}
              </div>
              <div>
                {{journeyModalDetails.data?.leaveAt | date: 'MMM, y'}}
              </div>
              <div class="pt-3">
                {{getJourneyDuration(journeyModalDetails.data)}}
              </div>
            </div>
          </div>
        </div>

        <div class="pt-8">
          <div
            *ngFor="let skill of journeyModalDetails.data?.skills"
            class="inline-block mr-3 mb-3"
          >
          <p-chip
            label="{{skill}}"
            styleClass="select-none cursor-default text-lg transparent-chip text-green-400 font-bold border-green-400 border-1 border-round-2xl"
          ></p-chip>
          </div>
        </div>
      </div>
    </div>

    <app-decoration-grid
      [xPos]="'right'"
      [yPos]="'bottom'"
    >
    </app-decoration-grid>

    <app-decoration-circle
      [size]="'small'"
      [xPos]="'left'"
      [yPos]="'bottom'"
    ></app-decoration-circle>

  </p-dialog>

</div>